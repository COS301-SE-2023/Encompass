<div class="overlay">

  <ion-header>
    <ion-toolbar class="profileToolbar">
      <div class="toolbar-content">
        <ion-grid>
          <ion-row class="row-filter">
            <ion-col size="2">
              <ion-button id="PostBtn" fill="clear" class="active-button buttonStyle" (click)="postChange()">
                Posts
              </ion-button>
            </ion-col>
            <ion-col size="2">
              <ion-button id="CommentsBtn" fill="clear" class="none buttonStyle" (click)="commChange()">
                Comments
              </ion-button>
            </ion-col>
            <ion-col size="2">
              <ion-button id="eventBtn" fill="clear" class="none buttonStyle" (click)="eventChange()">
                Events
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </ion-toolbar>
  </ion-header>


  <ion-grid>
    <ion-row class="filter-row">
      <ion-col size="5">

        <ion-button class="comms active-button" fill="clear" (click) = "openPopup()">Create a Post</ion-button>

        <!-- Posts -->


        <div *ngFor="let post of posts;let i = index">

          <ion-card class = "PostCard" >
            <div class = "PostCardHeader">
              <div class = "PostImageContainer" >
                <img src =  {{post.communityImageUrl}}  class = "postImage" >
              </div>
            <div class = "PostDetails"  >
              <div class = "TitleNameOptions">
                <div style = "display: flex;">
                  <div class = "Title">{{post.community}}</div>
                  <div class = "Name" > @{{post.username}}</div>
                </div>
                <div style = "display: flex;">
                  <!-- <label *ngIf="reportedPosts[i]"> REPORTED</label> -->
                  <label class = "report" *ngIf="reports[i]&&!reportedPosts[i]" 
                  style = "font-size: small; position: relative; right: 10%;"
                  (click)="ReportPost(i, post)">Report Post</label>
                  <label *ngIf="reports[i]&&reportedPosts[i]" 
                  style = "font-size: small; position: relative; right: 10%; color: red;"
                  >Post Reported.</label>
                  <button class = "Options" (click)="Report(i)"> <ion-icon name="ellipsis-horizontal-outline"></ion-icon></button>
                </div>
      
               </div>
              
              <div class = "GenreIcons" >

              <img *ngFor="let category of categoriesDisplay[i]; let k=index" src = {{this.categoriesDisplay[i][k]}} class="imgDiv">
              

            </div>
          </div> 
            </div>
            <div class = "PostBody"  (click)="GoToComments(post._id)">

              <div class = "text">
                  <h5>{{post.title}}</h5>
                  <div style = "display:flex;justify-content: center;">
                    <img src = {{post.imageUrl}} style="border-radius: 10px;" >
                  </div>
                  <br>
                  {{post.text}}
              </div>
            </div>
            <div class = "PostFooter">
              <div class = "date">{{datesAdded[i]}}</div>
              <button *ngIf="post.spoiler" class = "specialBtn">Spoiler</button>
              <button *ngIf="post.ageRestricted" class = "specialBtn">Age Restricted</button>
              <div class = "icons">
                <div style = "text-align: center;">
                  <ion-icon name="share-social-outline" id = "icons2" *ngIf = "!sharing[i]" (click)="Share(i,post)"></ion-icon>
                  <ion-icon name="share-social-outline" id = "icons2" style="color: purple;" *ngIf="sharing[i]" ></ion-icon>
                  <div *ngIf = "!sharing[i]">{{shares[i]}}</div>
                  <div *ngIf = "sharing[i]" style = "font-family: CustomFont;">Link Copied!</div>

                </div>
                <div style = "text-align: center;">
                  <ion-icon name="chatbubble-outline" id = "icons2" (click)="GoToComments(post._id)"></ion-icon>
                  <div>{{comments[i]}}</div>
                </div>
                <div style = "text-align: center;">
                  <ion-icon name="heart-circle-outline" *ngIf = "likedComments[i]" id="icons2"style = "color:red" (click)="Dislike(i, post)"></ion-icon>
                  <ion-icon name="heart-outline" id = "icons2" *ngIf = "!likedComments[i]" (click)="Like(i, post)"></ion-icon>
                  <div>{{likes[i]}}</div>
                </div>
                
              </div>
            </div>
           </ion-card>
          </div>
      </ion-col>





      <ion-col size="3">
        
        <ion-card>
          <div style="position: relative">
          <img class="profilePicture" alt="Silhouette of mountains" src="https://imgv3.fotor.com/images/blog-cover-image/10-profile-picture-ideas-to-make-you-stand-out.jpg" />
          <img class="banner" alt="Silhouette of mountains" src="https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_1280.jpg" />
          </div>
          <ion-card-header>
            <ion-card-title>Random User
              <ion-button
            fill="clear"
            size="medium"
            color="dark"
            class="edit-button">
            <ion-icon name="share-social"></ion-icon>
          </ion-button>
          <ion-button
            fill="clear"
            size="medium"
            color="dark"
            class="edit-button">
            <ion-icon name="pencil"></ion-icon>
          </ion-button>
          
          <ion-card-subtitle style="margin-top: 5px;">@randouser123</ion-card-subtitle>
            </ion-card-title>
          </ion-card-header>
        
          <ion-card-content style="font-size: 15px; margin-bottom: 15px;">
            Here's a small text description for the card content. Nothing more, nothing less.
          </ion-card-content>
        </ion-card>

        <div class="awards">
          <ion-title class="awards-header">
            Awards
          </ion-title>
          <div class="badges">
            <img src="assets/icon/Award1.jpg" class="badge">
            <img src="assets/icon/Award2.JPG" class="badge">
          </div>
        </div>

        <ion-card>
          <ion-card-header>
            <ion-card-title color="grey">Top Communities</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            <ion-grid>
              <ion-row class="small-square-row">
                <ion-col size="5">
                  <div class="small-square">
                    <img src = "assets/icon/Alien.jpg" class = "CommunityIcon" >
                    <div class = "CommunityName">Alien</div>
                    <div class = "CommunityDesc">Join the ultimate extraterrestrial terror celebration! The Ridley Scott Alien Fan Club awaits you!</div>
                  </div>
                </ion-col>
                <ion-col size="5">
                  <div class="small-square">
                    <img src = "assets/icon/HP.jpg" class = "CommunityIcon" >
                    <div class = "CommunityName">Potterheads</div>
                    <div class = "CommunityDesc">Join in on all things Potterverse!</div>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
            
          </ion-card-content>
        </ion-card>

      </ion-col>
    </ion-row>
  </ion-grid>

</div>