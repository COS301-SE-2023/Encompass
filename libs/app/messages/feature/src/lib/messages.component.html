<div class="container">
    <div class="chat-list">

        
      <ul>
        <li style="font-size: 25px;">
            <label>{{profile?.username}}</label>
            <ion-icon style="font-size: 50px;" 
            name="chatbubble-ellipses-outline" ></ion-icon>
        </li>
        <li>chats</li>
        <!-- <div *ngIf="chatProfiles != null"> -->
          <div *ngFor="let chats of chatProfiles">
            <li (click)="fetchMessages(chats.chatId)">{{chats.name}} {{chats.lastName}}</li>
          </div>
        <!-- </div> -->
      </ul>
    </div>
    <div class="chat-area" >

    <!-- <div *ngIf="hasMessages"> -->
      <div class = "messages" chatScroll *ngIf="hasMessages && profile !== null && messages !== null && messages !== undefined && profile !== undefined">
        <div *ngFor="let message of messages.messages">
          <div class="message" *ngIf="message.username !== profile.username">
            <span class="sender">{{message.username}}:</span>
            <span class="timestamp">{{message.dateTime}}</span>
            <p>{{message.message}}</p>
          </div>

          <div class="message your-message" *ngIf="message.username === profile.username">
            <span class="sender">{{message.username}}:</span>
            <span class="timestamp">{{message.dateTime}}</span>
            <p>{{message.message}}</p>
          </div>
        </div>

        <!-- <div class = "messages" chatScroll>
            <div class="message">
                <span class="sender">User 1:</span>
                <span class="timestamp">July 10, 2023 10:00 AM</span>
                <p>Hello!</p>
              </div>
              <div class="message your-message">
                <span class="sender">You:</span>
                <span class="timestamp">July 10, 2023 10:02 AM</span>
                <p>Hi there!</p>
              </div>
        </div> -->
      
      <div class = "Typer">
        <form class="message-form" [formGroup]="messageForm">
          <input type="text" formControlName="messageInput" placeholder="Type your message here..." />
          <button type="submit" (click)="sendMessage()">Send</button>
        </form>
      </div>
    </div>
  <!-- </div> -->
</div>

