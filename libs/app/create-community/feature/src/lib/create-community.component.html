<div class="container">
  <form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="form">
    <div class="head">
      <div class="HeadText">Create a Community</div>
    </div>

    <div class="TextHead">
      <ion-textarea
        [(ngModel)]="inputValue"
        (input)="checkInput()"
        formControlName="title"
        placeholder="Add a name"
        class="custom"
        [counter]="true"
        [maxlength]="100"
      ></ion-textarea>
    </div>

    <div class="Subhead">
      <div class="SelectCategory">
        <div class="title">Categories:</div>
        <div class="select">
          <ion-select
            multiple
            formControlName="category"
            placeholder="Add categories"
            [(ngModel)]="inputValue2"
            (ionChange)="checkInput()"
          >
            <ion-select-option
              *ngFor="let category of categories"
              [value]="category"
            >
              {{ category }}</ion-select-option
            >
          </ion-select>
        </div>
      </div>
    </div>

    <div class="SectionTitle textSection">Community Type</div>

    <div class="TypeOptions textSection">
      <div>
        <div>
          <input
            type="radio"
            id="public"
            name="option"
            value="Public"
            [checked]="true"
            (click)="setPublic()"
          />
          Public
          <span>-everyone can join and post on the community</span>
        </div>
        <div>
          <input
            type="radio"
            id="private"
            name="option"
            value="Private"
            (click)="setPrivate()"
          />
          Private
          <span
            >-only approved users can view, join, and post on the
            community</span
          >
        </div>
        <div>
          <input
            type="radio"
            id="restricted"
            name="option"
            value="Restricted"
            (click)="setRestricted()"
          />
          Restricted
          <span
            >-only approved users can make posts, but everyone can view the
            community</span
          >
        </div>
      </div>
    </div>

    <div class="space"></div>

    <div class="SectionTitle textSection">Mature Content</div>
    <div class="Age textSection">
      <div>
        <input
          type="checkbox"
          id="mature"
          name="AgeRestricted"
          value="restricted"
          (click)="isAgeRestricted()"
        />
        NSFW
      </div>
    </div>

    <div class="Footer textSection">
      <span class="image-span" (click)="insertImage()"
        ><ion-icon name="image-outline" style="font-size: 25px"></ion-icon
        ><span class="image-text">Select Community Avatar</span></span
      >
      <button
        class="createbtn btn1"
        style="background-color: var(--ion-color-secondary); color: white"
        (click)="closePopup()"
        type="button"
      >
        Cancel
      </button>
      <Button
        *ngIf="!isValid"
        type="submit"
        class="btn1 createbtn"
        disabled="true"
        >Create</Button
      >

      <Button *ngIf="isValid" type="submit" class="btn2 createbtn text-white"
        >Create</Button
      >
    </div>
    <div *ngIf="hasImage" class="Image textSection">
      <input
        type="file"
        class="file-input"
        [accept]="requiredFileType"
        (change)="onFileSelected($event)"
        #fileUpload
      />

      <!-- <div class="file-upload">

              
  
              <button mat-mini-fab color="primary" class="upload-btn"
                  (click)="fileUpload.click()">
              </button>
          </div> -->
    </div>
  </form>
</div>
