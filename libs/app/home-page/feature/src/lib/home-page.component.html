<div id='home-page' class="theme-page">
<ion-split-pane>
  <ion-menu type="overlay" side="start" id="main-content" class="menu-pane" >

    <div class="logoButton" (click)="goHome()">
      <ion-button fill="clear" class="centeredButton">
        <img src="assets/icon/Logo.png" class="logo" alt="Encompass Logo">
      </ion-button>
    </div>
      
    <ion-content class="ion-padding">

      <div class="MenuButton" >
        <ion-button fill="clear" id="popover-button" (click)="toggleSearch()">
          <ion-icon name="search" style="font-size: larger; position:relative;"></ion-icon>
        </ion-button>
      </div>

      <div class="MenuButton">
        <ion-button fill="clear" (click)="goToExplore()">
          <ion-icon name="rocket" style="font-size: larger; position:relative;"></ion-icon>
        </ion-button>
      </div>

      <div class="MenuButton">
        <ion-button fill="clear" (click)="goToChat()">
          <ion-icon name="chatbubbles" style="font-size: larger; position:relative;"></ion-icon>
        </ion-button>
      </div>

      <div class="MenuButton">
        <ion-button fill="clear"(click)="toggleNotifications()">
          <ion-icon name="notifications" style="font-size: larger; position:relative;"></ion-icon>
        </ion-button>
      </div>

      <div class="MenuButton">
        <ion-button id="profile-trigger" fill="clear" (click)="goToProfile()">
          <ion-icon name="person-circle" style="font-size: larger; position:relative;"></ion-icon>
        </ion-button>
      </div>
      
      <div class="menuFooter">
        <ion-button id="menu-pop" fill="clear">
        <ion-icon name="menu"></ion-icon>
      </ion-button>
      </div>

      <ion-popover trigger="menu-pop" [dismissOnSelect]="true" side="right" alignment="end" showBackdrop="false">
        <ng-template>
          <ion-content style="margin-bottom: 210px;">
            <ion-list>
              <ion-item [button]="true" [detail]="false" (click)="goToEvents()">
                <ion-icon name="megaphone-outline" color="primary" style="font-size: 28px; position:relative; margin-right: 10px;"></ion-icon>
                Events
              </ion-item>
              <ion-item [button]="true" [detail]="false" (click)="goToThemes()">
                <ion-icon name="color-palette-outline" color="primary" style="font-size: 28px; position:relative; margin-right: 10px;"></ion-icon>
                Themes
              </ion-item>
              <ion-item [button]="true" [detail]="false" (click)="goToSettings()">
                <ion-icon name="settings-outline" color="primary" style="font-size: 28px; position:relative; margin-right: 10px;"></ion-icon>
                Settings
              </ion-item>
              <ion-item [button]="true" [detail]="false" (click)="logout()">
                <ion-icon name="exit-outline" color="primary" style="font-size: 28px; position:relative; margin-right: 10px;"></ion-icon>
                Logout
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-popover>

    </ion-content>
  </ion-menu>

  <div class="notifications-card" *ngIf="showNotifications" id="notifications-card">
    <ion-header class="noti-header">
      <div class="noti-text">
        Notifications
         <div class="alert"></div>
        </div>
    </ion-header>
    <ion-content>
      <ion-list>
        <div *ngFor="let notify of notifications?.notifications">
          <ion-item (click)="clearNotification(notify.notificationId)">
            <div class="user">
              <div class="alert"></div>
              <ion-avatar slot="start">
                <ion-img src={{notify.picture}}></ion-img>
              </ion-avatar>
            </div>
            <ion-label>
              <div class="noti-title">
                <span class="bold-text">{{notify.sentBy}} {{notify.title}}</span>
                <span>  â‹…  </span>
                <span>{{notify.dateTime | date: 'medium'}}</span>
              </div>
              <p>{{notify.description}}</p>
            </ion-label>
          </ion-item>
        </div>
      </ion-list>
    </ion-content>
  </div>

  <div class="search-card" *ngIf="showSearch" id="search-card">
      <div class="search-header search-text">
        Search
      </div>
      <ion-searchbar placeholder="Search"></ion-searchbar>

    <ion-content>
      <ion-list>
        <ion-item>
          <div class="search-item" id="search-person">
            <ion-avatar slot="start">
              <ion-img src="https://i.pravatar.cc/300?u=b"></ion-img>
            </ion-avatar>
          </div>
          <ion-label>
            <div class="search-title">
              <span class="bold-text">Mattew McCartney</span>
            </div>
            <p>Just here for the long haul.</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <div class="search-item" id="search-category">
            <ion-avatar slot="start">
              <ion-img class="categories" src="assets/icon/Rocket.png"></ion-img>
            </ion-avatar>
          </div>
          <ion-label>
            <div class="search-title">
              <span class="bold-text">#Sci-Fi</span>
            </div>
            <p>234 Posts</p>
          </ion-label>
        </ion-item>
      </ion-list>



      <ion-footer class="search-footer">
        <ion-toolbar class="search-toolbar">
          <div class="footer-text">
            <ion-icon name="search"></ion-icon>
          <div>
            Search for 
            <a>"term"</a>
          </div>
          </div>
        </ion-toolbar>
      </ion-footer>
    </ion-content>
    
  </div>

  <ion-router-outlet id="main-content" class="router-pane" (click)="routerClick()">
  </ion-router-outlet>
</ion-split-pane>
